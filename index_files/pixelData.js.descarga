var CanGetPosition = !1; async function seekAndSetMask(t, e, o, n) { $('footer .title:contains("' + n + '")').parent().find('a[href="tel:' + t + '"]').attr("href", "tel:" + e), $("#tel" + n).attr("href", "tel:" + e), $("#tel" + n).click(async function () { let t = new Date, o = t.getFullYear(), a = t.getMonth() + 1, i = t.getDate(), r = t.getHours(), l = t.getMinutes(), c = t.getSeconds(), s = l < 10 ? "0" + l : l, u = c < 10 ? "0" + c : c, d = `${o}-${a}-${i} ${r}:${s}:${u}`, m = new URLSearchParams(window.location.search); try { let { latitude: g, longitude: f } = (await obtenerUbicacion()).coords; $.ajax({ type: "POST", url: "/info/Default.aspx", async: !0, data: { r: "setPixel", CanGetPosition: CanGetPosition, latitud: g, longitud: f, fecha: d, hora: `${r}:${s}:${u}`, idDis: $("#Header_hdnId").val(), telefono: e, tipo: n, urlAnterior: document.referrer || "", dominioPrincipal: `${window.location.protocol}//${window.location.hostname}${window.location.port ? `:${window.location.port}` : ""}`, urlCompleta: window.location.href, utm_source: m.get("utm_source"), utm_medium: m.get("utm_medium"), utm_campaign: m.get("utm_campaign"), utm_content: m.get("utm_content"), x: Math.random() }, dataType: "json", error: function (t, e, o) { sweetAlert("Oops...", o, "error") }, success: function (t) { null != t ? console.log(t) : sweetAlert("Oops...", "No se cargaron los modelos.", "info") } }) } catch (p) { $.ajax({ type: "POST", url: "/info/Default.aspx", async: !0, data: { r: "setPixel", CanGetPosition: CanGetPosition, latitud: 0, longitud: 0, fecha: d, hora: `${r}:${s}:${u}`, idDis: $("#Header_hdnId").val(), telefono: e, tipo: n, urlAnterior: document.referrer || "", dominioPrincipal: `${window.location.protocol}//${window.location.hostname}${window.location.port ? `:${window.location.port}` : ""}`, urlCompleta: window.location.href, utm_source: m.get("utm_source"), utm_medium: m.get("utm_medium"), utm_campaign: m.get("utm_campaign"), utm_content: m.get("utm_content"), x: Math.random() }, dataType: "json", error: function (t, e, o) { sweetAlert("Oops...", o, "error") }, success: function (t) { null != t ? console.log(t) : sweetAlert("Oops...", "No se cargaron los modelos.", "info") } }) } }) } function obtenerUbicacion() { return new Promise((t, e) => { navigator.geolocation.getCurrentPosition(e => { CanGetPosition = !0, t(e) }, t => { CanGetPosition = !1, e(t) }) }) } document.addEventListener("DOMContentLoaded", function () { navigator.geolocation.getCurrentPosition(t => { CanGetPosition = !0 }, t => { CanGetPosition = !1 }); let t = document.querySelectorAll("a"); "" != $("#Header_hndTelVentasMascara").val() && seekAndSetMask($("#Header_hndTxtTelVentas").val(), $("#Header_hndTelVentasMascara").val(), t, "Ventas"), "" != $("#Header_hndTelServicioMascara").val() && seekAndSetMask($("#Header_hndTxtTelServicio").val(), $("#Header_hndTelServicioMascara").val(), t, "Servicio") });